@startuml
skinparam monochrome true
autonumber
actor User
participant "Main Process" as Main
participant "ApplicationLayer" as App
participant "TransportLayer" as Trans
participant "InternetLayer" as Internet
participant "NetworkInterfaceLayer" as NetInt
User -> Main: プログラム実行 (Hello Network)
group 送信フェーズ (Encapsulation)
Main -> App: Encapsulate(packet)
App --> Main: ApplicationPacket

Main -> Trans: Encapsulate(packet)
Trans --> Main: TransportPacket
Main -> Internet: Encapsulate(packet)
Internet --> Main: InternetPacket
Main -> NetInt: Encapsulate(packet)
NetInt --> Main: NetworkInterfacePacket
end
note over Main: --- 物理的な通信 (Simulation) ---
group 受信フェーズ (Decapsulation)
Main -> NetInt: Decapsulate(packet)
NetInt --> Main: InternetPacket

Main -> Internet: Decapsulate(packet)
Internet --> Main: TransportPacket
Main -> Trans: Decapsulate(packet)
Trans --> Main: ApplicationPacket
Main -> App: Decapsulate(packet)
App --> Main: **Original Message: "Hello Network"**
end
Main -> User: 結果表示
@enduml